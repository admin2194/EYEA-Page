import{U as p,Y as w,a2 as s,r as E,j as g}from"./entry.9f9a9dfb.js";import{d as v,o as L,w as h,h as C}from"./focus-management.d638ccdc.js";let f=Symbol("Context");var y=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(y||{});function b(){return O()!==null}function O(){return w(f,null)}function x(e){p(f,e)}function d(e,r,l){v.isServer||s(u=>{document.addEventListener(e,r,l),u(()=>document.removeEventListener(e,r,l))})}function P(e,r,l){v.isServer||s(u=>{window.addEventListener(e,r,l),u(()=>window.removeEventListener(e,r,l))})}function H(e,r,l=g(()=>!0)){function u(n,a){if(!l.value||n.defaultPrevented)return;let t=a(n);if(t===null||!t.getRootNode().contains(t))return;let m=function i(o){return typeof o=="function"?i(o()):Array.isArray(o)||o instanceof Set?o:[o]}(e);for(let i of m){if(i===null)continue;let o=i instanceof HTMLElement?i:L(i);if(o!=null&&o.contains(t)||n.composed&&n.composedPath().includes(o))return}return!h(t,C.Loose)&&t.tabIndex!==-1&&n.preventDefault(),r(n,t)}let c=E(null);d("pointerdown",n=>{var a,t;l.value&&(c.value=((t=(a=n.composedPath)==null?void 0:a.call(n))==null?void 0:t[0])||n.target)},!0),d("mousedown",n=>{var a,t;l.value&&(c.value=((t=(a=n.composedPath)==null?void 0:a.call(n))==null?void 0:t[0])||n.target)},!0),d("click",n=>{c.value&&(u(n,()=>c.value),c.value=null)},!0),d("touchend",n=>u(n,()=>n.target instanceof HTMLElement?n.target:null),!0),P("blur",n=>u(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{b as C,x as c,y as l,O as p,P as w,H as y};

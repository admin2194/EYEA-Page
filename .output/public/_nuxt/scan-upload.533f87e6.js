import{_ as D,C as V,r as i,D as b,o as S,c as w,a,d as c,g as I,l as f,t as m,u as o,F as T,f as q}from"./entry.9f9a9dfb.js";import"./upload.6474fa87.js";const P={key:0,class:"absolute left-[40%] top-[3px]"},R={class:"flex flex-wrap items-center gap-y-5 gap-x-10 rounded-t-md"},U=["accept","disabled"],G={class:"flex items-center justify-between w-full pl-4"},L={class:"flex flex-col items-center space-y-2"},O={class:"dark:text-white line-clamp-1"},A=["disabled"],E=["visible"],H=["visible"],W={__name:"scan-upload",props:{modelValue:{type:[Array,Object,String]},uploaded:{type:[Array,Object,String]},way:{type:String,default:""},cropperClass:{type:String,default:""},cropMaxWidth:{type:Number,default:600},cropMaxHight:{type:Number,default:600},cropMinWidth:{type:Number,default:100},cropMinHight:{type:Number,default:100},disabled:{type:Boolean,default:!1},maxFileSize:{type:Number,required:!1,default:10485760},inputClass:{type:String,default:"",required:!1},imageClass:{type:String,default:""},stencilComponent:{type:String,default:"rectangle"},loading:{type:Boolean,default:!1},name:{type:String,default:void 0,required:!0},fileType:{type:String,default:"image",required:!1},fileTypesMessage:{type:String,default:"PNG, JPG, GIF, upto 10MB",required:!1},rules:{type:String,default:"",required:!1},text:{type:String},fileTypes:{type:String},wrapperClass:String},emits:["update:modelValue","upload","select"],setup(r,{emit:B}){const k=B,s=r,{errorMessage:u,value:M,meta:J}=V(s.name,s.rules,{initialValue:s.uploaded}),n=i(""),g=i(null),F=i([]);i("");const y=i([]);i("/*");const d=i({}),C=()=>{g.value.click()};function j(t){if(t===0)return"0 B";let l=1e3,e=1,p=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],v=Math.floor(Math.log(t)/Math.log(l));return parseFloat((t/Math.pow(l,v)).toFixed(e))+" "+p[v]}const x=async t=>{n.value="",t.preventDefault();let l=t.dataTransfer?t.dataTransfer.files:t.target.files;for(let e of l){if(e.objectURL=window.URL.createObjectURL(e),d.value.name=e.name,d.value.size=j(e.size),d.value.type=e.type,s.fileType=="pdf"){if(e.type!="application/pdf"){n.value="Please upload a pdf file";return}}else if(e.type!="image/jpeg"&&e.type!="image/png"&&e.type!="image/gif"&&e.type!="image/jpg"&&e.type!="image/svg+xml"){n.value="Please upload a image file";return}if(e.size>s.maxFileSize){n.value="Please, upload a file less than 10 MB";return}N(e),F.value[0]=e}h.value=!0};function N(t){var l=new FileReader;l.onload=e=>{y.value[0]=e.target.result,k("upload",y.value[0])},l.readAsDataURL(t)}const z=t=>{t.preventDefault()},_=i("");b(()=>s.modelValue,t=>{}),b(()=>s.uploaded,t=>{_.value=d.value.name,console.log("filename",t),M.value=t,h.value=!1});const h=i(!1);return(t,l)=>{var p;const e=q;return S(),w(T,null,[a("div",{class:"relative flex flex-col w-auto border border-gray-400 rounded-md shadow",onDragover:z,onDrop:x},[r.loading?(S(),w("div",P,[c(e,{name:"line-md:loading-twotone-loop",class:"text-4xl text-primary"})])):I("",!0),a("div",R,[a("input",{ref_key:"fileInput",ref:g,type:"file",class:f(["hidden",[s.inputClass]]),accept:s.accept,onChange:x,disabled:r.disabled},null,42,U)]),a("div",G,[a("div",L,[c(e,{name:"ant-design:scan-outlined",class:"text-xl text-secondary-text dark:text-white"})]),a("span",O,m(o(_)||((p=r.uploaded)==null?void 0:p.split("https://cdn.hahu.jobs/public/eyea/membership/")[1])||""),1),a("button",{disabled:r.loading,onClick:C,type:"button",class:"cursor-pointer flex justify-center py-2 px-4 dark:bg-dark-secondary bg-gray-200 w-[30%] h-[95%] top-[1px] right-5 rounded-r-md text-primary-text-light dark:text-dark-text-secondary font-poppins"},[a("div",null,[c(e,{name:"pajamas:upload",width:"20",height:"20"}),l[0]||(l[0]=a("span",{class:"text-primary-text dark:text-dark-text-secondary"},"upload",-1))])],8,A)])],32),a("p",{class:f(["col-span-5 mt-1 text-sm text-left text-red-600 transition-all duration-300 font-body",o(n)?"h-5":"h-0"]),id:"email-error",visible:o(n)},m(o(n))+"   ",11,E),a("p",{class:f(["col-span-5 mt-1 text-sm text-left text-red-600 transition-all duration-300 font-body",o(u)?"h-5":"h-0"]),id:"email-error",visible:o(u)},m(o(u))+"   ",11,H)],64)}}},Z=D(W,[["__scopeId","data-v-a27aedc4"]]);export{Z as _};
